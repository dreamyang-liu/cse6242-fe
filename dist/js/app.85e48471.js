(function(t){function e(e){for(var a,r,c=e[0],l=e[1],s=e[2],p=0,d=[];p<c.length;p++)r=c[p],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);u&&u(e);while(d.length)d.shift()();return i.push.apply(i,s||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,c=1;c<n.length;c++){var l=n[c];0!==o[l]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},o={app:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var s=0;s<c.length;s++)e(c[s]);var u=l;i.push([3,"chunk-vendors"]),n()})({0:function(t,e){},1:function(t,e){},2:function(t,e){},2395:function(t,e,n){},"2e21":function(t,e,n){"use strict";n("6565")},3:function(t,e,n){t.exports=n("56d7")},4:function(t,e){},"40f1":function(t,e,n){"use strict";n("af8d")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n(t.currentTabComponent,{tag:"component"})],1)],1)},i=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},c=[],l={},s=l,u=n("2877"),p=Object(u["a"])(s,r,c,!1,null,null,null),d=p.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav_bar"}),n("div",{staticClass:"main_container"},[n("div",{staticClass:"select_map_container"},[n("Select"),n("Map")],1),n("div",{staticClass:"stat_control_container"},[n("GlobalStat")],1)])])},h=[],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map",attrs:{id:"hex-map"}},[n("VueDeckgl",{staticClass:"deck-map",attrs:{layers:t.layers,viewState:t.viewState,width:"70vw",height:"80vh"},on:{click:t.handleClick,"view-state-change":t.handleViewStateChange}}),n("div",{ref:"map",attrs:{id:"map"}}),n("el-popover",{staticClass:"control-panel",attrs:{placement:"right",width:"220",trigger:"click"}},[n("div",{staticClass:"block"},[n("span",{staticClass:"demonstration"},[t._v("Coverage")]),n("el-slider",{staticStyle:{width:"200px"},attrs:{width:300,min:0,max:1,step:.01},model:{value:t.coverage,callback:function(e){t.coverage=e},expression:"coverage"}})],1),n("div",{staticClass:"block"},[n("span",{staticClass:"demonstration"},[t._v("Opacity")]),n("el-slider",{staticStyle:{width:"200px"},attrs:{width:300,min:0,max:1,step:.01},model:{value:t.opacity,callback:function(e){t.opacity=e},expression:"opacity"}})],1),n("div",[n("label",{attrs:{for:"color"}},[t._v("Color Inversion")]),n("input",{attrs:{id:"color",type:"checkbox",name:"color"},on:{change:t.update_layers}}),n("span",{attrs:{id:"color-value"}})]),n("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("Control Panel")])],1)],1)},m=[],b=n("ade3"),g=n("5530"),y=(n("d81d"),n("a9e3"),n("d3b7"),n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deckgl-container",attrs:{width:t.width,height:t.height}},[t._t("default"),n("canvas",{ref:"canvas",attrs:{id:"deck-canvas"},on:{contextmenu:t.handleContextMenu}}),t._t("foreground")],2)}),_=[],w=(n("99af"),n("b680"),n("9b26")),x=n("5a2b"),k={name:"VueDeckgl",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},layers:{type:Array,default:function(){return[]}},viewState:{type:Object,default:function(){return{latitude:40.6971494,longitude:-74.2598655,zoom:12,pitch:0}},required:!0},cursor:{type:String,default:"default"},controller:{type:[Boolean,Object],default:!0},effects:{type:Array,default:function(){return[]}},disableContextMenu:{type:Boolean,default:!1}},data:function(){return{}},methods:{initializeDeck:function(t,e){var n=this;return new w["a"]({canvas:this.$refs.canvas,width:this.width,height:this.height,style:{"!position":"relative"},viewState:t,controller:this.controller,onViewStateChange:function(t){var e=t.viewState;n.deck.setProps({viewState:e}),n.$emit("view-state-change",e)},onClick:function(t,e){n.$emit("click",{info:t,event:e})},onDrag:function(t,e){n.$emit("drag",{info:t,event:e})},onDragStart:function(t,e){n.$emit("onDragStart",{info:t,event:e})},onDragEnd:function(t,e){n.$emit("onDragEnd",{info:t,event:e})},getCursor:function(t){var e=t.isDragging;return e?"grabbing":n.cursor||"grab"},layers:e,effects:this.effects,getTooltip:function(t){try{if("heatmap"===t.layer.id){var e=t.object;return console.log(t),e&&{text:"Total Population: ".concat(e.totpop," \n White: ").concat((100*e.white/e.totpop).toFixed(2),"% \n Black: ").concat((100*e.black/e.totpop).toFixed(2),"% \n Native American: ").concat((100*e.hisp/e.totpop).toFixed(2),"% \n Asian: ").concat((100*e.asian/e.totpop).toFixed(2),"% \n Num of Census Blocks: ").concat(e.count),style:{position:"relative",fontSize:"12px",color:"#000",backgroundColor:"#efe",width:"200px",height:"100px",overflow:"scroll",marginLeft:"20px",marginTop:"20px",opacity:.75}}}return"Scatter Layer"}catch(n){return}}})},handleContextMenu:function(t){this.disableContextMenu&&t.preventDefault()}},watch:{layers:function(t){this.deck.setProps({layers:t})},viewState:function(t){this.deck.setProps({viewState:Object(g["a"])(Object(g["a"])({},t),{},{transitionInterpolator:new x["a"]})})},effects:function(t){this.deck.setProps({effects:t})}},created:function(){this.deck=null},mounted:function(){this.deck=this.initializeDeck(this.viewState,this.layers),console.log(this.viewState),console.log(this.deck)},destroyed:function(){this.deck.finalize()}},C=k,S=(n("87f1"),Object(u["a"])(C,y,_,!1,null,"9fef7fc0",null)),O=S.exports,j=n("fbbb"),P=n("3614"),N=n("5698"),M=n("f75e"),D=n("e192"),I=n.n(D),$="mapbox://styles/mapbox/streets-v11",T={name:"Map",components:{VueDeckgl:O},data:function(){return{POIdata:{},ICON_MAPPING:{marker:{x:0,y:0,width:128,height:128,mask:!0}},OPTIONS:["coverage","opacity"],COLOR_RANGE:[[209,55,78]],data:null,viewState:{longitude:-84.388,latitude:33.749,zoom:11,minZoom:3,maxZoom:17,pitch:20},layers:[],map:null,activeNames:"",coverage:.9,opacity:.2}},watch:{coverage:function(t,e){this.update_layers()},opacity:function(t,e){this.update_layers()}},methods:{handleChange:function(t){console.log(t)},handleClick:function(t){console.log(t)},handleViewStateChange:function(t){this.viewState=Object(g["a"])({},t),null!==this.map&&this.map.jumpTo({center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch})},update_layers:function(){if(null===this.data)return[];var t=this.data,e=new P["a"](Object(b["a"])({id:"heatmap",data:t,elevationRange:[0,0],opacity:.2,wireframe:!1,filled:!0,extruded:!1,pickable:!0,getHexagon:function(t){return t.hex},getFillColor:function(t){return 1==document.getElementById("color").checked?[0,255*(1-t.totpop/5e3),255]:[255,255*(1-t.totpop/5e3),0]},updateTriggers:{getFillColor:document.getElementById("color").checked},coverage:this.coverage},"opacity",this.opacity)),n=new j["a"]({id:"scatter",data:this.POIdata,opacity:.8,filled:!0,radiusMinPixels:2,radiusMaxPixels:3,getPosition:function(t){return[t[0],t[1]]},getFillColor:function(t){return[0,128,255]},pickable:!0,onHover:function(t){var e=t.object;t.x,t.y;console.log(e)}});this.layers=[e,n]},load_dummy_data:function(){var t=this;N["a"]("./dummy_data.csv").then((function(e){t.POIdata=e.map((function(t){return[Number(t.stop_lon),Number(t.stop_lat)]}))}))}},mounted:function(){var t=this;this.load_dummy_data(),this.map=new I.a.Map({accessToken:"pk.eyJ1Ijoic2VuZGF5byIsImEiOiJjams4MjdqOXAyZ2VrM3BydDRzeTR4cjBsIn0.Hk0FF4BvDNJZeDAZZiPlcg",container:this.$refs.map,style:$,interactive:!0,center:[this.viewState.longitude,this.viewState.latitude],zoom:this.viewState.zoom,bearing:0,pitch:this.viewState.pitch});var e=new Promise((function(e,n){N["a"]("lat_lon_to_census_data.csv").then((function(n){t.data=n.map((function(t){return{hex:M["c"](Number(t.lat),Number(t.lon),8),lon:Number(t.lon),lat:Number(t.lat),totpop:Number(t.pop_total),white:Number(t.pop_white),black:Number(t.pop_black),hisp:Number(t.pop_indian_alaskan),asian:Number(t.pop_asian)}})),t.data=t.data.reduce((function(t,e){return t[e.hex]?(t[e.hex].totpop+=e.totpop,t[e.hex].white+=e.white,t[e.hex].black+=e.black,t[e.hex].hisp+=e.hisp,t[e.hex].asian+=e.asian,t[e.hex].count+=1,t):(t[e.hex]=Object(g["a"])(Object(g["a"])({},e),{},{count:1}),t)}),{});var a=t;t.data=Object.keys(t.data).map((function(t){var e=a.data[t];return{hex:e.hex,totpop:e.totpop,count:e.count,white:e.white,black:e.black,hisp:e.hisp,asian:e.asian}})),e(t.data)}))}));e.then((function(e){console.log(e),t.update_layers()}))}},E=T,z=(n("6dc4"),Object(u["a"])(E,v,m,!1,null,"350f3bce",null)),A=z.exports,F=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"globa_stat"},[n("h1",[t._v(" This is the Global Stat ")]),n("div",{staticClass:"block"},[n("el-carousel",{attrs:{trigger:"click",height:"35vh",autoplay:!1}},t._l(t.items,(function(e){return n("el-carousel-item",{key:e},[n("h2",{staticClass:"title"},[t._v(t._s(e))])])})),1)],1)])},B=[],V={name:"GlobalStat",data:function(){return{items:["Housing","Income","Labor","Poverty","Unemployment","Violence"]}}},G=V,Z=(n("2e21"),Object(u["a"])(G,F,B,!1,null,"4480aefd",null)),J=Z.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"city_select"},[n("el-select",t._b({attrs:{placeholder:"Select City"}},"el-select",t.value,!1),t._l(t.citys,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)},R=[],H={name:"Select",data:function(){return{citys:[{value:"atl",label:"Atlanta"}]}}},q=H,U=(n("40f1"),Object(u["a"])(q,L,R,!1,null,"326b9a56",null)),W=U.exports,X={name:"Main",components:{Map:A,GlobalStat:J,Select:W}},K=X,Q=(n("dedd"),Object(u["a"])(K,f,h,!1,null,"1ea34426",null)),Y=Q.exports,tt={name:"App",components:{Compare:d,Main:Y},data:function(){return{currentPage:"Main"}},computed:{currentTabComponent:function(){return"main"===this.currentPage.toLowerCase()?Y:d}}},et=tt,nt=(n("7c55"),Object(u["a"])(et,o,i,!1,null,null,null)),at=nt.exports,ot=n("2f62");a["default"].use(ot["a"]);var it=new ot["a"].Store({state:{current_city:"",current_config:{},compare_tuple:[],current_vaccine_centers:[]},mutations:{},actions:{},modules:{}}),rt=n("5c96"),ct=n.n(rt);n("0fae");a["default"].config.productionTip=!1,a["default"].use(ct.a),new a["default"]({store:it,render:function(t){return t(at)}}).$mount("#app")},6565:function(t,e,n){},"6dc4":function(t,e,n){"use strict";n("882c")},"7c55":function(t,e,n){"use strict";n("2395")},"87f1":function(t,e,n){"use strict";n("8f0d")},"882c":function(t,e,n){},"8f0d":function(t,e,n){},"9e9e":function(t,e,n){},af8d:function(t,e,n){},dedd:function(t,e,n){"use strict";n("9e9e")}});
//# sourceMappingURL=app.85e48471.js.map