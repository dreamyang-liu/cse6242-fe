(function(t){function e(e){for(var a,c,s=e[0],r=e[1],l=e[2],u=0,h=[];u<s.length;u++)c=s[u],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&h.push(n[c][0]),n[c]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);d&&d(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),i()}function i(){for(var t,e=0;e<o.length;e++){for(var i=o[e],a=!0,s=1;s<i.length;s++){var r=i[s];0!==n[r]&&(a=!1)}a&&(o.splice(e--,1),t=c(c.s=i[0]))}return t}var a={},n={app:0},o=[];function c(e){if(a[e])return a[e].exports;var i=a[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=a,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(i,a,function(e){return t[e]}.bind(null,a));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],r=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var d=r;o.push([3,"chunk-vendors"]),i()})({0:function(t,e){},1:function(t,e){},1851:function(t,e,i){"use strict";i("cc4c")},2:function(t,e){},2395:function(t,e,i){},3:function(t,e,i){t.exports=i("56d7")},4:function(t,e){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var a=i("2b0e"),n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("keep-alive",[i(t.currentTabComponent,{tag:"component"})],1)],1)},o=[],c=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div")},s=[],r={},l=r,d=i("2877"),u=Object(d["a"])(l,c,s,!1,null,null,null),h=u.exports,p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t._m(0),i("div",{staticClass:"main_container"},[i("div",{staticClass:"select_map_container"},[i("Select"),i("Map",{attrs:{poi_types:t.poitypes,demographic_types:t.demographictypes,time_types:t.time_types}})],1),i("div",{staticClass:"stat_control_container"},[i("GlobalStat")],1)])])},f=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"nav_bar"},[i("div",[i("img",{staticClass:"nav_img",attrs:{src:"https://thumbs.gfycat.com/AgedHeavyHumpbackwhale.webp",alt:""}})]),i("span",{staticClass:"nav_title"},[t._v(" The Ease and Equity of Point of Interest Accessibility via Public Transit in the US ")])])}],g=(i("b0c0"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"map",attrs:{id:"hex-map"}},[i("VueDeckgl",{ref:"deckgl",staticClass:"deck-map",attrs:{layers:t.layers,viewState:t.viewState,width:"70vw",height:"90vh"},on:{click:t.handleClick,"view-state-change":t.handleViewStateChange}}),i("div",{ref:"map",attrs:{id:"map"}}),i("el-popover",{staticClass:"control-panel",attrs:{placement:"bottom",width:"300",trigger:"click"}},[i("h3",[t._v("Accessibility statistics parameters")]),i("p",{staticClass:"demonstration cp-title"},[t._v("Point of interest type")]),i("el-radio-group",{model:{value:t.checkedPOITypes,callback:function(e){t.checkedPOITypes=e},expression:"checkedPOITypes"}},t._l(t.poi_types,(function(e){return i("el-radio",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),1),i("p",{staticClass:"demonstration"},[t._v("Time of Day")]),i("el-radio-group",{model:{value:t.time_of_day,callback:function(e){t.time_of_day=e},expression:"time_of_day"}},t._l(t.time_types,(function(e){return i("el-radio-button",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),1),i("el-divider"),i("p",{staticClass:"demonstration cp-title"},[t._v("Demographic Groups")]),i("el-cascader",{attrs:{options:t.options},model:{value:t.checkedDemographicTypes,callback:function(e){t.checkedDemographicTypes=e},expression:"checkedDemographicTypes"}}),i("el-divider"),i("div",{staticClass:"block"},[i("span",{staticClass:"demonstration"},[t._v("Map opacity")]),i("el-slider",{staticStyle:{width:"200px"},attrs:{width:300,min:0,max:1,step:.01},model:{value:t.opacity,callback:function(e){t.opacity=e},expression:"opacity"}})],1),i("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:t.clearCatchment}},[t._v("Clear visible catchments")]),i("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("Control Panel")])],1)],1)}),y=[],m=i("2909"),v=i("ade3"),b=i("5530"),_=(i("d3b7"),i("6062"),i("3ca3"),i("ddb0"),i("d81d"),i("b64b"),i("07ac"),i("4de4"),i("99af"),function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"deckgl-container",attrs:{width:t.width,height:t.height}},[t._t("default"),i("canvas",{ref:"canvas",attrs:{id:"deck-canvas"},on:{contextmenu:t.handleContextMenu}}),t._t("foreground")],2)}),C=[],k=(i("a9e3"),i("b680"),i("9b26")),O=i("5a2b"),w={name:"VueDeckgl",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},layers:{type:Array,default:function(){return[]}},viewState:{type:Object,default:function(){return{latitude:40.6971494,longitude:-74.2598655,zoom:12,pitch:0}},required:!0},cursor:{type:String,default:"default"},controller:{type:[Boolean,Object],default:!0},effects:{type:Array,default:function(){return[]}},disableContextMenu:{type:Boolean,default:!1}},data:function(){return{}},methods:{initializeDeck:function(t,e){var i=this;return new k["a"]({canvas:this.$refs.canvas,width:this.width,height:this.height,style:{"!position":"relative"},viewState:t,controller:this.controller,onViewStateChange:function(t){var e=t.viewState;i.deck.setProps({viewState:e}),i.$emit("view-state-change",e)},onClick:function(t,e){i.$emit("click",{info:t,event:e})},onDrag:function(t,e){i.$emit("drag",{info:t,event:e})},onDragStart:function(t,e){i.$emit("onDragStart",{info:t,event:e})},onDragEnd:function(t,e){i.$emit("onDragEnd",{info:t,event:e})},getCursor:function(t){var e=t.isDragging;return e?"grabbing":i.cursor||"grab"},layers:e,effects:this.effects,getTooltip:function(t){try{if("heatmap"===t.layer.id){var e=t.object,i="Total Population: ".concat(e.total.toFixed(0),"\n");for(var a in e.data)i+="".concat(a,": ").concat((100*Number(e.data[a])/e.total).toFixed(2),"%\n");return e&&{text:i,style:{position:"relative",fontSize:"12px",color:"#000",backgroundColor:"#efe",width:"260px",height:"155px",overflow:"scroll",marginLeft:"20px",marginTop:"20px",opacity:.75}}}var n=t.object,o="Category: ".concat(n.category,"\n");return o+="Name: ".concat(n.name,"\n"),n&&{text:o,style:{position:"relative",fontSize:"12px",color:"#000",backgroundColor:"#efe",width:"200px",height:"50px",overflow:"scroll",marginLeft:"20px",marginTop:"20px",opacity:.75}}}catch(c){return}}})},handleContextMenu:function(t){this.disableContextMenu&&t.preventDefault()}},watch:{layers:function(t){this.deck.setProps({layers:t})},viewState:{handler:function(t){this.deck.setProps({viewState:Object(b["a"])(Object(b["a"])({},t),{},{transitionInterpolator:new O["a"]})})},deep:!0},effects:function(t){this.deck.setProps({effects:t})}},created:function(){this.deck=null},mounted:function(){this.deck=this.initializeDeck(this.viewState,this.layers)},destroyed:function(){this.deck.finalize()}},x=w,j=(i("c9a1"),Object(d["a"])(x,_,C,!1,null,"408c3013",null)),S=j.exports,P=i("475f"),I=i("fbbb"),D=i("9043"),$=i("3614"),A=i("e192"),T=i.n(A),L=i("2f62"),E=i("262e"),M=i("2caf"),N=i("d4ec"),R=i("bee2"),B=(i("e9c4"),function(){function t(){Object(N["a"])(this,t),this.obj={changed:[],config:{poi_category:"Vaccination centre",demographic_category:"Race",time_of_day:"morning",city_id:1},poi_list:{added:[],deleted:[]}}}return Object(R["a"])(t,[{key:"add_change",value:function(t){-1===this.obj.changed.indexOf(t)&&this.obj.changed.push(t)}},{key:"fill_poi_list",value:function(t){this.obj.poi_list=t}},{key:"update_config_field",value:function(t,e){this.obj.config[t]=e}},{key:"fill_config",value:function(t){this.obj.config=t}}]),t}()),F=function(){function t(){Object(N["a"])(this,t),this.ajax=new XMLHttpRequest}return Object(R["a"])(t,[{key:"api_endpoint",value:function(){return"/api"}},{key:"get",value:function(t,e){var i=this;console.log(this.api_endpoint()+t),this.ajax.open("GET",this.api_endpoint()+t,!1),this.ajax.onreadystatechange=function(){4===i.ajax.readyState&&200===i.ajax.status&&e(i.ajax.responseText)},this.ajax.send()}},{key:"post",value:function(t,e,i){var a=this;this.ajax.open("POST",this.api_endpoint()+t),this.ajax.setRequestHeader("Content-Type","application/json"),this.ajax.onreadystatechange=function(){4===a.ajax.readyState&&200===a.ajax.status&&i(a.ajax.responseText)},this.ajax.send(JSON.stringify(e))}}]),t}(),V=function(t){Object(E["a"])(i,t);var e=Object(M["a"])(i);function i(){return Object(N["a"])(this,i),e.call(this)}return Object(R["a"])(i,[{key:"fetchConfig",value:function(t){this.get("/configuration",(function(e){t(JSON.parse(e))}))}},{key:"init",value:function(t){var e=new B;e.add_change("poi_category"),e.add_change("demographic_category"),e.add_change("time_of_day"),this.post("/city_data/",e.obj,(function(e){t(JSON.parse(e))}))}},{key:"switchCity",value:function(t,e,i){var a=new B;a.add_change("poi_category"),a.add_change("demographic_category"),a.add_change("time_of_day"),i.city_id=t,a.fill_config(i),this.post("/city_data/",a.obj,(function(t){e(JSON.parse(t))}))}},{key:"updateConfig",value:function(t,e){this.post("/city_data/",e.obj,(function(e){t(JSON.parse(e))}))}},{key:"updatePOIs",value:function(t,e){this.get("/city_data/",(function(e){t(JSON.parse(e))}))}},{key:"fetchCatchement",value:function(t,e,i,a,n){this.get("/catchment/".concat(e,"/").concat(i,"?time_of_day=").concat(a,"&demographics_category=").concat(n),(function(e){t(e)}))}}]),i}(F),z=V,J=i("f75e"),H="mapbox://styles/mapbox/streets-v11",q={name:"Map",components:{VueDeckgl:S},props:{poi_types:{type:Array,require:!0},demographic_types:{type:Array,require:!0},time_types:{type:Array,require:!0}},data:function(){return{ICON_MAPPING:{marker:{x:0,y:0,width:128,height:128,mask:!0}},checkedPOITypes:"Vaccination centre",checkedDemographicTypes:["Race","all"],checkTimeTypes:[],data:null,viewState:{longitude:-84.388,latitude:33.749,zoom:11,minZoom:3,maxZoom:17,pitch:20},picked_poi_id:null,layers:[],hexagonLayer:null,scatterLayer:null,iconLayer:null,polygonLayer:null,map:null,coverage:1,opacity:.2,hex_set:new Set,time_of_day:"morning",options:[{value:"Race",label:"Race",children:[{value:"all",label:"All"},{value:"white",label:"White"},{value:"black",label:"Black"},{value:"asian",label:"Asian"},{value:"native",label:"American Indian and Native Alaskan"},{value:"hawaiian",label:"Native Hawaiian and Other Pacific Islander"}]},{value:"Age and Sex",label:"Age and Sex"},{value:"Income",label:"Income"},{value:"Origin",label:"Origin"},{value:"Vehicle Availability",label:"Vehicle Availability"}]}},computed:Object(b["a"])({},Object(L["b"])({cityData:function(t){return t.cityData},pois:function(t){return t.pois},clickEvent:function(t){return t.clickEvent},addedPois:function(t){return t.poisAdded}})),watch:{opacity:function(t,e){this.clearCatchment(),this.update_layers("hex")},pois:{handler:function(t){this.clearCatchment(),this.update_layers("scatter")},deep:!0},addedPois:{handler:function(t){this.clearCatchment(),this.update_layers("scatter"),console.log("AddedPOIs triggered")}},cityData:{handler:function(t){this.clearCatchment(),this.update_layers("hex");var e=t.long,i=t.lat,a=this.viewState;a.longitude=e,a.latitude=i,this.viewState=a,this.map.easeTo({center:[a.longitude,a.latitude],zoom:a.zoom,bearing:a.bearing,pitch:a.pitch})},deep:!0},checkedDemographicTypes:{handler:function(t){this.clearCatchment(),t[0]!==this.$store.state.config.demographic_category&&(this.$store.commit("setConfigDemographicType",t[0]),this.commit_config_change(["demographic_category"]),this.update_layers("hex"))},deep:!0},time_of_day:{handler:function(t){this.clearCatchment(),this.$store.commit("setConfigTimeofDay",t),this.commit_config_change(["time_of_day","demographic_category"])},deep:!0},checkedPOITypes:{handler:function(t){this.clearCatchment(),this.$store.commit("setConfigPOIType",t),this.$store.commit("clearPOIChanges");var e=["poi_category","demographic_category"];this.commit_config_change(e)},deep:!0}},methods:{commit_config_change:function(t){for(var e=this,i=new B,a=0;a<t.length;a++)i.add_change(t[a]);i.fill_config(this.$store.state.config),i.fill_poi_list({added:this.$store.state.poisAdded.map((function(t){return t.h3id})),deleted:this.$store.state.poisRemoved});var n=new z;n.updateConfig((function(t){null!==t.stats&&e.$store.commit("setStatistics",t.stats),null!==t.pois&&e.$store.commit("setPois",t.pois.data),null!==t.demographics&&e.$store.commit("setDemographics",t.demographics)}),i)},clearCatchment:function(){null!==this.polygonLayer&&(this.picked_poi_id=null,this.polygonLayer=null,this.$store.commit("clearPOIStatistics"),this.update_layers("scatter"),this.notify("Remove Catchments Succeed","All catchment areas removed",!0))},notify:function(t,e,i){i?this.$notify({title:t,message:e,duration:4500,type:"success"}):this.$notify.error({title:t,message:e,duration:4500})},handleCatchment:function(t){var e=JSON.parse(t),i=e.geometry.coordinates,a={labels:Object.keys(e.population_detail),datasets:[{backgroundColor:["#43A047","#0D6986","#8956FF","#f93e6e","#EF5411","#5C4B51","#cc773f","#D64045","#467599","#546A7B"],data:Object.values(e.population_detail)}]};this.$store.commit("setPOIStatistics",a),this.update_layers("polygon",i)},handleClickChain:function(t){try{if(0===this.clickEvent)if("heatmap"===t.info.layer.id)this.clearCatchment();else{this.picked_poi_id=t.info.object.id,this.update_layers("scatter");var e=new z;e.fetchCatchement(this.handleCatchment,this.$store.state.config.city_id,t.info.object.h3id,this.time_of_day,this.checkedDemographicTypes[0])}else this.handleAddPOI(t)}catch(i){return void this.notify("Error","No POI data found or "+i,!1)}},handleAddPOI:function(t){var e=this;if(1===this.clickEvent)if("heatmap"===t.info.layer.id){var i={long:t.info.coordinate[0],lat:t.info.coordinate[1],name:"Unknown ".concat(this.checkedPOITypes),h3id:J["c"](t.info.coordinate[1],t.info.coordinate[0],9),id:-1*this.addedPois.length-1,category:this.checkedPOITypes,coords:{lat:t.info.coordinate[1],long:t.info.coordinate[0]},fake:!0};this.$store.commit("addPOI",i),console.log(this.$store.state.poisAdded);var a=new B;a.add_change("poi_add"),a.fill_config(this.$store.state.config),a.fill_poi_list({added:this.$store.state.poisAdded.map((function(t){return t.h3id})),deleted:this.$store.state.poisRemoved});var n=new z;n.updateConfig((function(t){e.$store.commit("setStatistics",t.stats)}),a),this.notify("Add POI Succeed","It may take a while to recalculate",!0)}else this.notify("Add POI Failed","Cannot add POI on a existing POI",!1);else this.handleRemovePOI(t)},handleRemovePOI:function(t){var e=this;if(2!==this.clickEvent)throw new Error("Invalid clickEvent");if("heatmap"===t.info.layer.id)this.notify("Remove POI Failed","Cannot remove an unexisting POI",!1);else{this.$store.commit("removePOI",t.info.object.h3id);var i=new B;i.add_change("poi_remove"),i.fill_config(this.$store.state.config),i.fill_poi_list({added:this.$store.state.poisAdded.map((function(t){return t.h3id})),deleted:this.$store.state.poisRemoved});var a=new z;a.updateConfig((function(t){e.$store.commit("setStatistics",t.stats),e.$store.commit("setPois",t.pois.data)}),i),this.notify("Remove POI Succeed","It may take a while to recalculate",!0)}},handleClick:function(t){this.handleClickChain(t)},handleViewStateChange:function(t){this.viewState=Object(b["a"])({},t),null!==this.map&&this.map.jumpTo({center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch})},createPolyonLayer:function(t){var e=t,i=new P["a"]({id:"polygon-layer",data:e,pickable:!1,stroked:!0,filled:!0,wireframe:!0,lineWidthMinPixels:1,getPolygon:function(t){return t},opacity:.5,getFillColor:function(t){return[60,140,0]},getLineColor:[80,80,80],getLineWidth:1});return i},createHexagonLayer:function(){for(var t=this,e=0,i=0;i<this.cityData.demographics.data.length;i++){var a=this.cityData.demographics.data[i];e+=a.accessibility}e/=this.cityData.demographics.data.length;var n=this.cityData.demographics.data.filter((function(t){return t.total>0})),o=new $["a"](Object(v["a"])({id:"heatmap",data:n,elevationRange:[0,0],opacity:.2,wireframe:!1,filled:!0,extruded:!1,pickable:!0,getHexagon:function(t){return t.h3id},getFillColor:function(i){return t.hex_set.has(i.h3id)?[0,0,0]:[170,i.accessibility/(2*e)*255,0]},coverage:this.coverage},"opacity",this.opacity));return o||null},createScatterLayer:function(){var t=this;console.log("Redrawing the layer of Scatter...");var e=new I["a"]({id:"scatterplot-layer",data:[].concat(Object(m["a"])(this.pois),Object(m["a"])(this.$store.state.poisAdded)),pickable:!0,opacity:.8,stroked:!0,filled:!0,radiusScale:6,radiusMinPixels:5,radiusMaxPixels:3,lineWidthMinPixels:1,getPosition:function(t){return[t.long,t.lat]},getRadius:function(t){return 4},getFillColor:function(e){return t.picked_poi_id===e.id?[0,255,255]:e.fake?[255,0,0]:[170,10,217]},updateTriggers:{getFillColor:this.picked_poi_id},getLineColor:function(t){return[0,0,0]}});return e||null},createIconLayer:function(){var t=new D["a"]({id:"icon-layer",data:this.pois,pickable:!0,iconAtlas:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/icon-atlas.png",iconMapping:this.ICON_MAPPING,getIcon:function(t){return"marker"},sizeScale:9,getPosition:function(t){return[t.long,t.lat]},getSize:function(t){return 5},getColor:function(t){return[0,128,255]}});return t||null},update_layers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"all"!==t&&"hex"!==t||(this.hexagonLayer=this.createHexagonLayer()),"all"!==t&&"scatter"!==t||(this.scatterLayer=this.createScatterLayer()),"all"!==t&&"polygon"!==t||(this.polygonLayer=this.createPolyonLayer(e)),this.$refs["deckgl"].deck.setProps({layers:[this.hexagonLayer,this.scatterLayer,this.polygonLayer]})}},mounted:function(){this.map=new T.a.Map({accessToken:"pk.eyJ1Ijoic2VuZGF5byIsImEiOiJjams4MjdqOXAyZ2VrM3BydDRzeTR4cjBsIn0.Hk0FF4BvDNJZeDAZZiPlcg",container:this.$refs.map,style:H,interactive:!0,center:[this.viewState.longitude,this.viewState.latitude],zoom:this.viewState.zoom,bearing:0,pitch:this.viewState.pitch})}},G=q,Z=(i("cb56"),Object(d["a"])(G,g,y,!1,null,"69b17eac",null)),W=Z.exports,K=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"stat_continer"},[i("div",{staticClass:"globa_stat"},[i("h3",[t._v(" City Level Statistics ")]),i("div",{staticClass:"block"},[i("el-carousel",{attrs:{trigger:"click",height:"35vh",autoplay:!1}},t._l(t.items,(function(e){return i("el-carousel-item",{key:e},["Bar"==e?i("BarChart",{attrs:{width:t.barWidth,height:t.barHeight,chartData:t.radarChartData}}):t._e()],1)})),1)],1)]),i("div",{staticClass:"globa_stat"},[i("h3",[t._v(" Catchment Area Demographics (on POI click) ")]),i("div",{staticClass:"block"},[i("el-carousel",{attrs:{trigger:"click",height:"35vh",autoplay:!1}},t._l(t.items,(function(e){return i("el-carousel-item",{key:e},[i("DoughnutChart",{attrs:{width:400,height:400,chartData:t.dongnutChartData}})],1)})),1)],1)])])},U=[],X=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Bar",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})},Q=[],Y=i("7b97"),tt=i("d9fa"),et=i("9b4a");et["f"].register(et["p"],et["q"],et["h"],et["c"],et["e"],et["j"],tt["a"]);var it={name:"BarChart",components:{Bar:Y["a"]},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Object,default:function(){}},chartData:{type:Object,default:function(){return{labels:["January","February","March","April","May","June","July"],datasets:[{data:[40,20,12,15,18,30,24]}]}}}},data:function(){return{chartOptions:{indexAxis:"y",responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{formatter:function(t,e){return t.toFixed(3)}}}}}}},at=it,nt=Object(d["a"])(at,X,Q,!1,null,null,null),ot=nt.exports,ct=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("Doughnut",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})},st=[];et["f"].register(et["p"],et["q"],et["h"],et["a"],et["e"]);var rt,lt={name:"DoughnutChart",components:{Doughnut:Y["b"]},props:{chartId:{type:String,default:"doughnut-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Object,default:function(){}},chartData:{type:Object,default:function(){}}},data:function(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1,plugins:{datalabels:{formatter:function(t,e){return""}}}}}}},dt=lt,ut=Object(d["a"])(dt,ct,st,!1,null,null,null),ht=ut.exports,pt={name:"GlobalStat",components:{BarChart:ot,DoughnutChart:ht},data:function(){return{items:["Bar"],radarChartData:{}}},computed:Object(b["a"])(Object(b["a"])({},Object(L["b"])({statistics:function(t){return t.statistics},dongnutChartData:function(t){return t.poi_statistics}})),{},{barWidth:function(){return 400},barHeight:function(){return 300}}),watch:{statistics:{handler:function(t){null!==t&&this.render(t)},deep:!0}},methods:{render:function(t){var e=Object.keys(t.index_detail),i=Object.values(t.index_detail),a={labels:Object(m["a"])(e),datasets:[{label:"City Level Accessibility Score",backgroundColor:"#f67019",borderColor:"#f67019",pointBackgroundColor:"#f67019",pointBorderColor:"#fff",pointHoverBackgroundColor:"#f0f",pointHoverBorderColor:"#f67019",data:i}]};this.radarChartData=a}}},ft=pt,gt=(i("1851"),Object(d["a"])(ft,K,U,!1,null,"56efa408",null)),yt=gt.exports,mt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"city_select"},[i("span",{staticStyle:{"margin-right":"10px"}},[t._v("City Analyzed:")]),i("div",{staticStyle:{padding:"1px 0"}},[i("el-select",{attrs:{placeholder:"Select City"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.cityList,(function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1),i("span",{staticStyle:{"margin-right":"10px","margin-left":"20px"}},[t._v("Interaction:")]),i("el-radio-group",{staticStyle:{"margin-left":"10px"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[i("el-radio-button",{attrs:{label:0}},[t._v("Explore")]),i("el-radio-button",{attrs:{label:1}},[t._v("Add New POIs")]),i("el-radio-button",{attrs:{label:2}},[t._v("Remove POIs")])],1)],1),i("el-button",{staticStyle:{"margin-left":"20px"},attrs:{type:"primary",plain:""},on:{click:function(e){t.dialogVisible=!0}}},[t._v("Methodology Details")]),i("el-dialog",{attrs:{title:"Methodology",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("span",[t._v("This is the methodology of the tool")]),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Done")])],1)])],1)},vt=[],bt={name:"Select",data:function(){return{value:1,radio:0,dialogVisible:!1}},methods:{render:function(t){this.$store.commit("setCityData",t),this.$store.commit("setPois",t.pois.data),this.$store.commit("setStatistics",t.stats)},update_callback:function(t){this.render(t)},handleClose:function(t){this.$confirm("Are you sure you want to close this box?").then((function(e){t()})).catch((function(t){}))}},computed:Object(L["b"])({cityList:function(t){return t.cityList},config:function(t){return t.config}}),watch:{value:function(t){console.log(t);var e=new z;console.log("Switching city"),this.$store.commit("clearPOIChanges"),e.switchCity(t,this.update_callback,this.$store.state.config)},radio:function(t){this.$store.commit("setClickEvent",t)}}},_t=bt,Ct=(i("fc58"),Object(d["a"])(_t,mt,vt,!1,null,"4a0960c6",null)),kt=Ct.exports,Ot=(i("5698"),{name:"Main",components:{Map:W,GlobalStat:yt,Select:kt},data:function(){return{poitypes:[],demographictypes:[],time_types:[]}},methods:{configure:function(t){console.log(t),this.poitypes=t.poi_categories,this.demographictypes=t.demographic_categories,this.time_types=t.times_of_day;for(var e=t.cities,i=[],a=0;a<e.length;a++)i.push({value:e[a].id,label:e[a].name});this.$store.commit("setCityList",i)},render:function(t){this.$store.commit("setCityData",t),this.$store.commit("setPois",t.pois.data),this.$store.commit("setStatistics",t.stats)},init:function(){this.FEProxy.fetchConfig(this.configure),this.FEProxy.init(this.render)}},mounted:function(){this.FEProxy=new z,this.init()}}),wt=Ot,xt=(i("67b4"),Object(d["a"])(wt,p,f,!1,null,"056cb136",null)),jt=xt.exports,St={name:"App",components:{Compare:h,Main:jt},data:function(){return{currentPage:"Main"}},computed:{currentTabComponent:function(){return"main"===this.currentPage.toLowerCase()?jt:h}}},Pt=St,It=(i("7c55"),Object(d["a"])(Pt,n,o,!1,null,null,null)),Dt=It.exports;a["default"].use(L["a"]);var $t=new L["a"].Store({state:{config:{city_id:1,poi_category:"Vaccination centre",demographic_category:"Race",time_of_day:"morning"},pois:null,cityData:{},cityList:{},demographics:{},poisAdded:[],poisRemoved:[],clickEvent:0,statistics:{},poi_statistics:{labels:["None"],datasets:[{backgroundColor:["#A0A0A0"],data:[1]}]}},mutations:(rt={setClickEvent:function(t,e){t.clickEvent=e},setPois:function(t,e){t.pois=e},clearPOIChanges:function(t){t.poisAdded=[],t.poisRemoved=[]},addPOI:function(t,e){t.poisAdded.push(e)},removePOI:function(t,e){t.poisRemoved.push(e),t.poisAdded=t.poisAdded.filter((function(t){return t.h3id!=e}))},setConfig:function(t,e){t.config=e},setCityData:function(t,e){t.cityData=e},setDemographics:function(t,e){t.cityData.demographics=e},setCityList:function(t,e){t.cityList=e},setStatistics:function(t,e){t.statistics=e},setPOIStatistics:function(t,e){t.poi_statistics=e},clearPOIStatistics:function(t){t.poi_statistics={labels:["None"],datasets:[{backgroundColor:["#A0A0A0"],data:[1]}]}},setConfigPOIType:function(t,e){t.config.poiType=e},setConfigCity:function(t,e){t.config.city_id=e},setConfigTimeofDay:function(t,e){t.config.time_of_day=e}},Object(v["a"])(rt,"setConfigPOIType",(function(t,e){t.config.poi_category=e})),Object(v["a"])(rt,"setConfigDemographicType",(function(t,e){t.config.demographic_category=e})),rt),actions:{},modules:{}}),At=i("5c96"),Tt=i.n(At);i("0fae");a["default"].config.productionTip=!1,a["default"].use(Tt.a),new a["default"]({store:$t,render:function(t){return t(Dt)}}).$mount("#app")},"67b4":function(t,e,i){"use strict";i("8706")},"7c55":function(t,e,i){"use strict";i("2395")},8706:function(t,e,i){},ac08:function(t,e,i){},c9a1:function(t,e,i){"use strict";i("de91")},cb56:function(t,e,i){"use strict";i("ffc7")},cc4c:function(t,e,i){},de91:function(t,e,i){},fc58:function(t,e,i){"use strict";i("ac08")},ffc7:function(t,e,i){}});
//# sourceMappingURL=app.7f382b3e.js.map