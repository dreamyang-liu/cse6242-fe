(function(t){function e(e){for(var i,r,s=e[0],c=e[1],l=e[2],d=0,h=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(n,r)&&n[r]&&h.push(n[r][0]),n[r]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);u&&u(e);while(h.length)h.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],i=!0,s=1;s<a.length;s++){var c=a[s];0!==n[c]&&(i=!1)}i&&(o.splice(e--,1),t=r(r.s=a[0]))}return t}var i={},n={app:0},o=[];function r(e){if(i[e])return i[e].exports;var a=i[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=i,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(a,i,function(e){return t[e]}.bind(null,i));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var l=0;l<s.length;l++)e(s[l]);var u=c;o.push([3,"chunk-vendors"]),a()})({0:function(t,e){},"09e0":function(t,e,a){},1:function(t,e){},1757:function(t,e,a){},1862:function(t,e,a){},2:function(t,e){},2395:function(t,e,a){},3:function(t,e,a){t.exports=a("56d7")},"3ea5":function(t,e,a){},4:function(t,e){},4638:function(t,e,a){"use strict";a("1757")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("2b0e"),n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("keep-alive",[a(t.currentTabComponent,{tag:"component"})],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},s=[],c={},l=c,u=a("2877"),d=Object(u["a"])(l,r,s,!1,null,null,null),h=d.exports,p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[t._m(0),a("div",{staticClass:"main_container"},[a("div",{staticClass:"select_map_container"},[a("Select"),a("Map",{attrs:{poi_types:t.poitypes,demographic_types:t.demographictypes,time_types:t.time_types}})],1),a("div",{staticClass:"stat_control_container"},[a("GlobalStat")],1)])])},f=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"nav_bar"},[a("div",[a("img",{staticClass:"nav_img",attrs:{src:"https://thumbs.gfycat.com/AgedHeavyHumpbackwhale.webp",alt:""}})]),a("span",{staticClass:"nav_title"},[t._v(" The Ease and Equity of Point of Interest Accessibility via Public Transit in the US ")])])}],y=a("5530"),g=(a("b0c0"),a("d3b7"),a("d81d"),a("a9e3"),a("b64b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"map",attrs:{id:"hex-map"}},[a("VueDeckgl",{ref:"deckgl",staticClass:"deck-map",attrs:{layers:t.layers,viewState:t.viewState,width:"70vw",height:"90vh"},on:{click:t.handleClick,"view-state-change":t.handleViewStateChange}}),a("div",{ref:"map",attrs:{id:"map"}}),a("el-popover",{staticClass:"control-panel",attrs:{placement:"right",width:"400",trigger:"click"}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("Opacity")]),a("el-slider",{staticStyle:{width:"200px"},attrs:{width:300,min:0,max:1,step:.01},model:{value:t.opacity,callback:function(e){t.opacity=e},expression:"opacity"}})],1),a("el-divider"),a("p",{staticClass:"demonstration"},[t._v("POI Type")]),a("el-radio-group",{model:{value:t.checkedPOITypes,callback:function(e){t.checkedPOITypes=e},expression:"checkedPOITypes"}},t._l(t.poi_types,(function(e){return a("el-radio",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),1),a("br"),a("el-button",{attrs:{type:"primary",icon:"el-icon-delete"},on:{click:t.clearCatchment}},[t._v("Clear Catchments")]),a("el-divider"),a("p",{staticClass:"demonstration"},[t._v("Demographic Groups")]),a("el-cascader",{attrs:{options:t.options},model:{value:t.checkedDemographicTypes,callback:function(e){t.checkedDemographicTypes=e},expression:"checkedDemographicTypes"}}),a("el-divider"),a("p",{staticClass:"demonstration"},[t._v("Time of Day")]),a("el-radio-group",{model:{value:t.time_of_day,callback:function(e){t.time_of_day=e},expression:"time_of_day"}},t._l(t.time_types,(function(e){return a("el-radio-button",{key:e,attrs:{label:e}},[t._v(t._s(e))])})),1),a("el-button",{attrs:{slot:"reference"},slot:"reference"},[t._v("Control Panel")])],1)],1)}),m=[],b=a("2909"),v=a("ade3"),_=(a("6062"),a("3ca3"),a("ddb0"),a("4de4"),a("99af"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"deckgl-container",attrs:{width:t.width,height:t.height}},[t._t("default"),a("canvas",{ref:"canvas",attrs:{id:"deck-canvas"},on:{contextmenu:t.handleContextMenu}}),t._t("foreground")],2)}),k=[],C=(a("b680"),a("9b26")),O=a("5a2b"),w={name:"VueDeckgl",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},layers:{type:Array,default:function(){return[]}},viewState:{type:Object,default:function(){return{latitude:40.6971494,longitude:-74.2598655,zoom:12,pitch:0}},required:!0},cursor:{type:String,default:"default"},controller:{type:[Boolean,Object],default:!0},effects:{type:Array,default:function(){return[]}},disableContextMenu:{type:Boolean,default:!1}},data:function(){return{}},methods:{initializeDeck:function(t,e){var a=this;return new C["a"]({canvas:this.$refs.canvas,width:this.width,height:this.height,style:{"!position":"relative"},viewState:t,controller:this.controller,onViewStateChange:function(t){var e=t.viewState;a.deck.setProps({viewState:e}),a.$emit("view-state-change",e)},onClick:function(t,e){a.$emit("click",{info:t,event:e})},onDrag:function(t,e){a.$emit("drag",{info:t,event:e})},onDragStart:function(t,e){a.$emit("onDragStart",{info:t,event:e})},onDragEnd:function(t,e){a.$emit("onDragEnd",{info:t,event:e})},getCursor:function(t){var e=t.isDragging;return e?"grabbing":a.cursor||"grab"},layers:e,effects:this.effects,getTooltip:function(t){try{if("heatmap"===t.layer.id){var e=t.object,a="Total Population: ".concat(e.total.toFixed(0),"\n");for(var i in e.data)a+="".concat(i,": ").concat((100*Number(e.data[i])/e.total).toFixed(2),"%\n");return e&&{text:a,style:{position:"relative",fontSize:"12px",color:"#000",backgroundColor:"#efe",width:"260px",height:"155px",overflow:"scroll",marginLeft:"20px",marginTop:"20px",opacity:.75}}}var n=t.object,o="Category: ".concat(n.category,"\n");return o+="Name: ".concat(n.name,"\n"),n&&{text:o,style:{position:"relative",fontSize:"12px",color:"#000",backgroundColor:"#efe",width:"200px",height:"50px",overflow:"scroll",marginLeft:"20px",marginTop:"20px",opacity:.75}}}catch(r){return}}})},handleContextMenu:function(t){this.disableContextMenu&&t.preventDefault()}},watch:{layers:function(t){this.deck.setProps({layers:t})},viewState:function(t){this.deck.setProps({viewState:Object(y["a"])(Object(y["a"])({},t),{},{transitionInterpolator:new O["a"]})})},effects:function(t){this.deck.setProps({effects:t})}},created:function(){this.deck=null},mounted:function(){this.deck=this.initializeDeck(this.viewState,this.layers)},destroyed:function(){this.deck.finalize()}},x=w,j=(a("6a39"),Object(u["a"])(x,_,k,!1,null,"2728b196",null)),S=j.exports,P=a("475f"),D=a("fbbb"),I=a("9043"),T=a("3614"),A=a("e192"),$=a.n(A),N=a("2f62"),L=a("262e"),E=a("2caf"),B=a("d4ec"),M=a("bee2"),R=(a("e9c4"),function(){function t(){Object(B["a"])(this,t),this.obj={changed:[],config:{poi_category:"Vaccination centre",demographic_category:"Race",time_of_day:"morning",city_id:1},poi_list:{added:[],deleted:[]}}}return Object(M["a"])(t,[{key:"add_change",value:function(t){-1===this.obj.changed.indexOf(t)&&this.obj.changed.push(t)}},{key:"fill_poi_list",value:function(t){this.obj.poi_list=t}},{key:"update_config_field",value:function(t,e){this.obj.config[t]=e}},{key:"fill_config",value:function(t){this.obj.config=t}}]),t}()),J=function(){function t(){Object(B["a"])(this,t),this.ajax=new XMLHttpRequest}return Object(M["a"])(t,[{key:"get",value:function(t,e){var a=this;this.ajax.open("GET",t,!1),this.ajax.onreadystatechange=function(){4===a.ajax.readyState&&200===a.ajax.status&&e(a.ajax.responseText)},this.ajax.send()}},{key:"post",value:function(t,e,a){var i=this;this.ajax.open("POST",t),this.ajax.setRequestHeader("Content-Type","application/json"),this.ajax.onreadystatechange=function(){4===i.ajax.readyState&&200===i.ajax.status&&a(i.ajax.responseText)},this.ajax.send(JSON.stringify(e))}}]),t}(),F=function(t){Object(L["a"])(a,t);var e=Object(E["a"])(a);function a(){return Object(B["a"])(this,a),e.call(this)}return Object(M["a"])(a,[{key:"fetchConfig",value:function(t){this.get("/config",(function(e){t(JSON.parse(e))}))}},{key:"init",value:function(t){var e=new R;e.add_change("poi_category"),e.add_change("demographic_category"),e.add_change("time_of_day"),this.post("/city_data/",e.obj,(function(e){t(JSON.parse(e))}))}},{key:"updateConfig",value:function(t,e){this.post("/city_data/",e.obj,(function(e){t(JSON.parse(e))}))}},{key:"updatePOIs",value:function(t,e){this.get("/city_data",(function(e){t(JSON.parse(e))}))}},{key:"fetchCatchement",value:function(t,e,a,i){this.get("/catchment/".concat(1,"/",e,"?time_of_day=").concat(a,"&demographics_category=").concat(i),(function(e){t(e)}))}}]),a}(J),V=F,H=a("f75e"),z="mapbox://styles/mapbox/streets-v11",K={name:"Map",components:{VueDeckgl:S},props:{poi_types:{type:Array,require:!0},demographic_types:{type:Array,require:!0},time_types:{type:Array,require:!0}},data:function(){return{ICON_MAPPING:{marker:{x:0,y:0,width:128,height:128,mask:!0}},checkedPOITypes:"Vaccination centre",checkedDemographicTypes:["race","all"],checkTimeTypes:[],data:null,viewState:{longitude:-84.388,latitude:33.749,zoom:11,minZoom:3,maxZoom:17,pitch:20},picked_poi_id:null,layers:[],hexagonLayer:null,scatterLayer:null,iconLayer:null,polygonLayer:null,map:null,coverage:1,opacity:.2,hex_set:new Set,time_of_day:"morning",addedPois:[],deletedPois:[],options:[{value:"race",label:"Race",children:[{value:"all",label:"All"},{value:"white",label:"White"},{value:"black",label:"Black"},{value:"asian",label:"Asian"},{value:"native",label:"American Indian and Native Alaskan"},{value:"hawaiian",label:"Native Hawaiian and Other Pacific Islander"}]},{value:"age and sex",label:"Age and Sex"},{value:"income",label:"Income"},{value:"origin",label:"Origin"},{value:"vehicle availability",label:"Vehicle Availability"}]}},computed:Object(y["a"])({},Object(N["b"])({cityData:function(t){return t.cityData},pois:function(t){return t.pois},clickEvent:function(t){return t.clickEvent}})),watch:{opacity:function(t,e){this.update_layers("hex")},pois:{handler:function(t){this.update_layers("scatter")},deep:!0},addedPois:{handler:function(t){console.log(t),this.update_layers("scatter")}},cityData:{handler:function(t){this.update_layers("hex")},deep:!0},checkedDemographicTypes:{handler:function(t){this.$store.commit("setConfigDemographicType",t[0]),this.update_layers("hex"),t[0]!==this.$store.state.config.demographic_category&&this.commit_config_change("demographic_category")},deep:!0},time_of_day:{handler:function(t){this.$store.commit("setConfigTimeofDay",t),this.commit_config_change("time_of_day")},deep:!0},checkedPOITypes:{handler:function(t){this.$store.commit("setConfigPOIType",t),this.commit_config_change("poi_category")},deep:!0}},methods:{commit_config_change:function(t){var e=this,a=new R;a.add_change(t),a.fill_config(this.$store.state.config);var i=new V;i.updateConfig((function(t){e.$store.commit("setStatistics",t.stats),e.$store.commit("setPois",t.pois.data)}),a)},clearCatchment:function(){null!==this.polygonLayer&&(this.picked_poi_id=null,this.polygonLayer=null,this.update_layers("scatter"),this.notify("Remove Catchments Succeed","All catchment areas removed",!0))},notify:function(t,e,a){a?this.$notify({title:t,message:e,duration:4500,type:"success"}):this.$notify.error({title:t,message:e,duration:4500})},handleCatchment:function(t){var e=JSON.parse(t),a=e.geometry.coordinates;this.update_layers("polygon",a)},handleClickChain:function(t){try{if(0===this.clickEvent)if("heatmap"===t.info.layer.id)this.clearCatchment();else{this.picked_poi_id=t.info.object.id,this.update_layers("scatter");var e=new V;e.fetchCatchement(this.handleCatchment,t.info.object.h3id,this.time_of_day,this.checkedDemographicTypes[0])}else this.handleAddPOI(t)}catch(a){return void this.notify("Error","No POI data found or "+a,!1)}},handleAddPOI:function(t){var e=this;if(1===this.clickEvent)if(console.log(t),"heatmap"===t.info.layer.id){var a={long:t.info.coordinate[0],lat:t.info.coordinate[1],name:"Unknown ".concat(this.checkedPOITypes),h3id:H["c"](t.info.coordinate[1],t.info.coordinate[0],9),id:-1*this.addedPois.length-1,category:this.checkedPOITypes,coords:{lat:t.info.coordinate[1],long:t.info.coordinate[0]}};this.addedPois.push(a);var i=new R;i.add_change("poi_add"),i.fill_poi_list({added:this.addedPois.map((function(t){return t.h3id})),deleted:this.deletedPois});var n=new V;n.updateConfig((function(t){e.$store.commit("setStatistics",t.stats)}),i),this.notify("Add POI Succeed","It may take a while to recalculate",!0)}else this.notify("Add POI Failed","Cannot add POI on a existing POI",!1);else this.handleRemovePOI(t)},handleRemovePOI:function(t){var e=this;if(2!==this.clickEvent)throw new Error("Invalid clickEvent");if("heatmap"===t.info.layer.id)this.notify("Remove POI Failed","Cannot remove an unexisting POI",!1);else{this.deletedPois.push(t.info.object.h3id);var a=new R;a.add_change("poi_remove"),a.fill_poi_list({added:this.addedPois.map((function(t){return t.h3id})),deleted:this.deletedPois});var i=new V;i.updateConfig((function(t){e.$store.commit("setStatistics",t.stats),e.$store.commit("setPois",t.pois.data)}),a),this.notify("Remove POI Succeed","It may take a while to recalculate",!0)}},handleClick:function(t){this.handleClickChain(t)},handleViewStateChange:function(t){this.viewState=Object(y["a"])({},t),null!==this.map&&this.map.jumpTo({center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch})},createPolyonLayer:function(t){var e=t,a=new P["a"]({id:"polygon-layer",data:e,pickable:!0,stroked:!0,filled:!0,wireframe:!0,lineWidthMinPixels:1,getPolygon:function(t){return t},opacity:.5,getFillColor:function(t){return[60,140,0]},getLineColor:[80,80,80],getLineWidth:1});return a},createHexagonLayer:function(){var t=this,e=this.cityData.demographics.data.filter((function(t){return t.total>0})),a=new T["a"](Object(v["a"])({id:"heatmap",data:e,elevationRange:[0,0],opacity:.2,wireframe:!1,filled:!0,extruded:!1,pickable:!0,getHexagon:function(t){return t.h3id},getFillColor:function(e){var a=[600,100,100,50,50,10];return t.hex_set.has(e.h3id)?[0,255,0]:-1!=t.checkedDemographicTypes.indexOf("white")?[255,e.data["White"]/a[1]*255,0]:-1!=t.checkedDemographicTypes.indexOf("black")?[255,e.data["Black or African American"]/a[2]*255,0]:-1!=t.checkedDemographicTypes.indexOf("asian")?[255,e.data["Asian"]/a[3]*255,0]:-1!=t.checkedDemographicTypes.indexOf("native")?[255,e.data["American Indian and Alaska Native"]/a[4]*255,0]:-1!=t.checkedDemographicTypes.indexOf("hawaiian")?[255,e.data["Native Hawaiian and Other Pacific Islander"]/a[5]*255,0]:[255,e.total/a[0]*255,0]},coverage:this.coverage},"opacity",this.opacity));return a||null},createScatterLayer:function(){var t=this;console.log("Redrawing the layer of Scatter...");var e=new D["a"]({id:"scatterplot-layer",data:[].concat(Object(b["a"])(this.pois),Object(b["a"])(this.addedPois)),pickable:!0,opacity:.8,stroked:!0,filled:!0,radiusScale:6,radiusMinPixels:5,radiusMaxPixels:3,lineWidthMinPixels:1,getPosition:function(t){return[t.long,t.lat]},getRadius:function(t){return 4},getFillColor:function(e){return t.picked_poi_id===e.id?[0,255,255]:[140,0,0]},updateTriggers:{getFillColor:this.picked_poi_id},getLineColor:function(t){return[0,0,0]}});return e||null},createIconLayer:function(){var t=new I["a"]({id:"icon-layer",data:this.pois,pickable:!0,iconAtlas:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/icon-atlas.png",iconMapping:this.ICON_MAPPING,getIcon:function(t){return"marker"},sizeScale:9,getPosition:function(t){return[t.long,t.lat]},getSize:function(t){return 5},getColor:function(t){return[0,128,255]}});return t||null},update_layers:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;"all"!==t&&"hex"!==t||(this.hexagonLayer=this.createHexagonLayer()),"all"!==t&&"scatter"!==t||(this.scatterLayer=this.createScatterLayer()),"all"!==t&&"polygon"!==t||(this.polygonLayer=this.createPolyonLayer(e)),this.$refs["deckgl"].deck.setProps({layers:[this.hexagonLayer,this.scatterLayer,this.polygonLayer]})}},mounted:function(){this.map=new $.a.Map({accessToken:"pk.eyJ1Ijoic2VuZGF5byIsImEiOiJjams4MjdqOXAyZ2VrM3BydDRzeTR4cjBsIn0.Hk0FF4BvDNJZeDAZZiPlcg",container:this.$refs.map,style:z,interactive:!0,center:[this.viewState.longitude,this.viewState.latitude],zoom:this.viewState.zoom,bearing:0,pitch:this.viewState.pitch})}},G=K,q=(a("da1e"),Object(u["a"])(G,g,m,!1,null,"90888852",null)),Z=q.exports,W=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"stat_continer"},[a("div",{staticClass:"globa_stat"},[a("h3",[t._v(" City Level Statistics ")]),a("div",{staticClass:"block"},[a("el-carousel",{attrs:{trigger:"click",height:"35vh",autoplay:!1}},t._l(t.items,(function(e){return a("el-carousel-item",{key:e},["Bar"==e?a("BarChart",{attrs:{width:400,height:400,chartData:t.barChartData}}):t._e(),"Radar"==e?a("Radar",{attrs:{width:400,height:300,chartData:t.radarChartData}}):t._e(),"Line"==e?a("LineChart",{attrs:{width:400,height:300}}):t._e(),"Bubble"==e?a("Bubble",{attrs:{width:400,height:300}}):t._e(),"Doughnut"==e?a("DoughnutChart",{attrs:{width:400,height:300}}):t._e(),"PolarArea"==e?a("PolarArea",{attrs:{width:400,height:300}}):t._e()],1)})),1)],1)]),a("div",{staticClass:"globa_stat"},[a("h3",[t._v(" POI Statistics ")]),a("div",{staticClass:"block"},[a("el-carousel",{attrs:{trigger:"click",height:"35vh",autoplay:!1}},t._l(t.items,(function(t){return a("el-carousel-item",{key:t},[a("BarChart",{attrs:{width:400,height:270}})],1)})),1)],1)])])},U=[],X=(a("07ac"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Bar",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})}),Q=[],Y=a("7b97"),tt=a("9b4a");tt["f"].register(tt["r"],tt["s"],tt["h"],tt["c"],tt["e"],tt["k"]);var et={name:"BarChart",components:{Bar:Y["a"]},props:{chartId:{type:String,default:"bar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Object,default:function(){}},chartData:{type:Object,default:function(){return{labels:["January","February","March","April","May","June","July"],datasets:[{data:[40,20,12,15,18,30,24]}]}}}},data:function(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1}}}},at=et,it=Object(u["a"])(at,X,Q,!1,null,null,null),nt=it.exports,ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Radar",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})},rt=[];tt["f"].register(tt["r"],tt["s"],tt["h"],tt["m"],tt["p"],tt["j"]);var st={name:"RadarChart",components:{Radar:Y["f"]},props:{chartId:{type:String,default:"radar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Object,default:function(){}},chartData:{type:Object,default:function(){}}},data:function(){return{chartOptions:{responsive:!0,maintainAspectRatio:!1}}}},ct=st,lt=Object(u["a"])(ct,ot,rt,!1,null,null,null),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("LineChartGenerator",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})},ht=[];tt["f"].register(tt["r"],tt["s"],tt["h"],tt["j"],tt["k"],tt["e"],tt["m"]);var pt={name:"LineChart",components:{LineChartGenerator:Y["d"]},props:{chartId:{type:String,default:"line-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Object,default:function(){}}},data:function(){return{chartData:{labels:["January","February","March","April","May","June","July"],datasets:[{label:"Data One",backgroundColor:"#f87979",data:[40,39,10,40,39,80,40]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}}},ft=pt,yt=Object(u["a"])(ft,dt,ht,!1,null,null,null),gt=yt.exports,mt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Bubble",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})},bt=[];tt["f"].register(tt["r"],tt["s"],tt["h"],tt["m"],tt["k"]);var vt={name:"BubbleChart",components:{Bubble:Y["b"]},props:{chartId:{type:String,default:"bubble-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Object,default:function(){}}},data:function(){return{chartData:{datasets:[{label:"Data One",backgroundColor:"#f87979",data:[{x:20,y:25,r:5},{x:40,y:10,r:10},{x:30,y:22,r:30}]},{label:"Data Two",backgroundColor:"#7C8CF8",data:[{x:10,y:30,r:15},{x:20,y:20,r:10},{x:15,y:8,r:30}]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}}},_t=vt,kt=Object(u["a"])(_t,mt,bt,!1,null,null,null),Ct=kt.exports,Ot=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Doughnut",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})},wt=[];tt["f"].register(tt["r"],tt["s"],tt["h"],tt["a"],tt["e"]);var xt={name:"DoughnutChart",components:{Doughnut:Y["c"]},props:{chartId:{type:String,default:"doughnut-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Object,default:function(){}}},data:function(){return{chartData:{labels:["VueJs","EmberJs","ReactJs","AngularJs"],datasets:[{backgroundColor:["#41B883","#E46651","#00D8FF","#DD1B16"],data:[40,20,80,10]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}}},jt=xt,St=Object(u["a"])(jt,Ot,wt,!1,null,null,null),Pt=St.exports,Dt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("PolarArea",{attrs:{"chart-options":t.chartOptions,"chart-data":t.chartData,"chart-id":t.chartId,"dataset-id-key":t.datasetIdKey,plugins:t.plugins,"css-classes":t.cssClasses,styles:t.styles,width:t.width,height:t.height}})},It=[];tt["f"].register(tt["r"],tt["s"],tt["h"],tt["a"],tt["p"]);var Tt,At={name:"PolarAreaChart",components:{PolarArea:Y["e"]},props:{chartId:{type:String,default:"polar-chart"},datasetIdKey:{type:String,default:"label"},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{default:"",type:String},styles:{type:Object,default:function(){}},plugins:{type:Object,default:function(){}}},data:function(){return{chartData:{labels:["Eating","Drinking","Sleeping","Designing","Coding","Cycling","Running"],datasets:[{label:"My First dataset",backgroundColor:"rgba(179,181,198,0.2)",pointBackgroundColor:"rgba(179,181,198,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(179,181,198,1)",data:[65,59,90,81,56,55,40]},{label:"My Second dataset",backgroundColor:"rgba(255,99,132,0.2)",pointBackgroundColor:"rgba(255,99,132,1)",pointBorderColor:"#fff",pointHoverBackgroundColor:"#fff",pointHoverBorderColor:"rgba(255,99,132,1)",data:[28,48,40,19,96,27,100]}]},chartOptions:{responsive:!0,maintainAspectRatio:!1}}}},$t=At,Nt=Object(u["a"])($t,Dt,It,!1,null,null,null),Lt=Nt.exports,Et={name:"GlobalStat",components:{BarChart:nt,Radar:ut,LineChart:gt,Bubble:Ct,DoughnutChart:Pt,PolarArea:Lt},data:function(){return{items:["Radar","Line","Bubble","Doughnut","PolarArea"],barChartData:{},radarChartData:{}}},computed:Object(y["a"])({},Object(N["b"])({statistics:function(t){return t.statistics}})),watch:{statistics:{handler:function(t){null!==t&&this.render(t)},deep:!0}},methods:{render:function(t){console.log(t);var e=Object.keys(t.index_detail),a=Object.values(t.index_detail),i={labels:Object(b["a"])(e),datasets:[{label:"City Level Score",backgroundColor:"#f67019",borderColor:"#f67019",pointBackgroundColor:"#f67019",pointBorderColor:"#fff",pointHoverBackgroundColor:"#f0f",pointHoverBorderColor:"#f67019",data:a}]};this.radarChartData=i}}},Bt=Et,Mt=(a("4638"),Object(u["a"])(Bt,W,U,!1,null,"07403cd4",null)),Rt=Mt.exports,Jt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"city_select"},[a("el-button",{staticStyle:{"margin-right":"150px"},attrs:{type:"primary",plain:""},on:{click:function(e){t.dialogVisible=!0}}},[t._v("Methodology Details")]),a("el-dialog",{attrs:{title:"Methodology",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("This is the methodology of the tool")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("Done")])],1)]),a("div",{staticStyle:{padding:"1px 0"}},[a("el-select",{attrs:{placeholder:"Select City"},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},t._l(t.cityList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1),a("el-radio-group",{staticStyle:{"margin-left":"20px"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[a("el-radio-button",{attrs:{label:0}},[t._v("Default")]),a("el-radio-button",{attrs:{label:1}},[t._v("Add")]),a("el-radio-button",{attrs:{label:2}},[t._v("Delete")])],1)],1)],1)},Ft=[],Vt={name:"Select",data:function(){return{value:1,radio:0,dialogVisible:!1}},methods:{update_callback:function(t){this.$store.commit("setCityData",t)},handleClose:function(t){this.$confirm("Are you sure you want to close this box?").then((function(e){t()})).catch((function(t){}))}},computed:Object(N["b"])({cityList:function(t){return t.cityList},config:function(t){return t.config}}),watch:{value:function(t){this.$store.commit("setConfigCity",t);var e=new V;e.configUpdate(this.config,this.update_callback)},poi_type:function(t){this.$store.commit("setConfigPOIType",t);var e=new V;e.configUpdate(this.config,this.update_callback)},radio:function(t){this.$store.commit("setClickEvent",t)}}},Ht=Vt,zt=(a("b694"),Object(u["a"])(Ht,Jt,Ft,!1,null,"553974a0",null)),Kt=zt.exports,Gt=a("5698"),qt={name:"Main",components:{Map:Z,GlobalStat:Rt,Select:Kt},data:function(){return{poitypes:[],demographictypes:[],time_types:[]}},methods:{configure:function(t){console.log(t),this.poitypes=t.poi_categories,this.demographictypes=t.demographic_categories,this.time_types=t.times_of_day;for(var e=t.cities,a=[],i=0;i<e.length;i++)a.push({value:e[i].id,label:e[i].name});this.$store.commit("setCityList",a)},dummy_render:function(t){var e=this;new Promise((function(t,a){Gt["a"]("./dummy_data.csv").then((function(t){var a=t.map((function(t){return[Number(t.stop_lon),Number(t.stop_lat)]}));e.$store.commit("setPois",a)})),Gt["a"]("lat_lon_to_census_data.csv").then((function(t){var a=t.map((function(t){return{hex:H["c"](Number(t.lat),Number(t.lon),9),lon:Number(t.lon),lat:Number(t.lat),totpop:Number(t.pop_total),white:Number(t.pop_white),black:Number(t.pop_black),hisp:Number(t.pop_indian_alaskan),asian:Number(t.pop_asian)}}));a=a.reduce((function(t,e){return t[e.hex]?(t[e.hex].totpop+=e.totpop,t[e.hex].white+=e.white,t[e.hex].black+=e.black,t[e.hex].hisp+=e.hisp,t[e.hex].asian+=e.asian,t[e.hex].count+=1,t):(t[e.hex]=Object(y["a"])(Object(y["a"])({},e),{},{count:1}),t)}),{});var i=Object.keys(a).map((function(t){var e=a[t];return{hex:e.hex,totpop:e.totpop,count:e.count,white:e.white,black:e.black,hisp:e.hisp,asian:e.asian}}));e.$store.commit("setCityData",i)}))}))},render:function(t){this.$store.commit("setCityData",t),this.$store.commit("setPois",t.pois.data),this.$store.commit("setStatistics",t.stats)},init:function(){this.FEProxy.fetchConfig(this.configure),this.FEProxy.init(this.render)}},mounted:function(){this.FEProxy=new V,this.init()}},Zt=qt,Wt=(a("cd16"),Object(u["a"])(Zt,p,f,!1,null,"b91608ca",null)),Ut=Wt.exports,Xt={name:"App",components:{Compare:h,Main:Ut},data:function(){return{currentPage:"Main"}},computed:{currentTabComponent:function(){return"main"===this.currentPage.toLowerCase()?Ut:h}}},Qt=Xt,Yt=(a("7c55"),Object(u["a"])(Qt,n,o,!1,null,null,null)),te=Yt.exports;i["default"].use(N["a"]);var ee=new N["a"].Store({state:{config:{city_id:1,poi_category:"Vaccination centre",demographic_category:"race",time_of_day:"morning"},pois:null,cityData:{},cityList:{},clickEvent:0,statistics:{}},mutations:(Tt={setClickEvent:function(t,e){t.clickEvent=e},setPois:function(t,e){t.pois=e},addPoi:function(t,e){t.pois.push(e)},deletePoi:function(t,e){t.pois=t.pois.filter((function(t){return t.id!==e}))},setConfig:function(t,e){t.config=e},setCityData:function(t,e){t.cityData=e},setCityList:function(t,e){t.cityList=e},setStatistics:function(t,e){t.statistics=e},setConfigPOIType:function(t,e){t.config.poiType=e},setConfigCity:function(t,e){t.config.city_id=e},setConfigTimeofDay:function(t,e){t.config.time_of_day=e}},Object(v["a"])(Tt,"setConfigPOIType",(function(t,e){t.config.poi_category=e})),Object(v["a"])(Tt,"setConfigDemographicType",(function(t,e){t.config.demographic_category=e})),Tt),actions:{},modules:{}}),ae=a("5c96"),ie=a.n(ae);a("0fae");i["default"].config.productionTip=!1,i["default"].use(ie.a),new i["default"]({store:ee,render:function(t){return t(te)}}).$mount("#app")},"6a36":function(t,e,a){},"6a39":function(t,e,a){"use strict";a("09e0")},"7c55":function(t,e,a){"use strict";a("2395")},b694:function(t,e,a){"use strict";a("6a36")},cd16:function(t,e,a){"use strict";a("1862")},da1e:function(t,e,a){"use strict";a("3ea5")}});
//# sourceMappingURL=app.9a77d434.js.map