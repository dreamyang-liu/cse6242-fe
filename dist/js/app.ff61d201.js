(function(t){function e(e){for(var a,o,c=e[0],l=e[1],u=e[2],d=0,f=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);s&&s(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,c=1;c<n.length;c++){var l=n[c];0!==i[l]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={app:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=l;r.push([3,"chunk-vendors"]),n()})({0:function(t,e){},1:function(t,e){},"17ab":function(t,e,n){},2:function(t,e){},2395:function(t,e,n){},"2fe7":function(t,e,n){"use strict";n("fa35")},3:function(t,e,n){t.exports=n("56d7")},4:function(t,e){},"40f1":function(t,e,n){"use strict";n("af8d")},"4ddd":function(t,e,n){"use strict";n("d14f")},5656:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n(t.currentTabComponent,{tag:"component"})],1)],1)},r=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},c=[],l={},u=l,s=n("2877"),d=Object(s["a"])(u,o,c,!1,null,null,null),f=d.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"main_container"},[n("div",{staticClass:"select_map_container"},[n("Select"),n("Map")],1),n("div",{staticClass:"stat_control_container"},[n("GlobalStat"),n("ControlPanel")],1)])])},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav_bar"},[n("h1",[t._v(" This is the Navigation Bar ")])])}],v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map",attrs:{id:"hex-map"}},[n("VueDeckgl",{staticClass:"deck-map",attrs:{layers:t.layers,viewState:t.viewState,width:"70vw",height:"80vh"},on:{click:t.handleClick,"view-state-change":t.handleViewStateChange}}),n("div",{staticClass:"control-panel",attrs:{id:"control-panel"}},[n("div",[n("label",[t._v("Coverage")]),n("input",{attrs:{id:"coverage",type:"range",min:"0",max:"1",step:"0.1",value:"0.9"},on:{change:t.update_layers}}),n("span",{attrs:{id:"coverage-value"}})]),n("div",[n("label",[t._v("Opacity")]),n("input",{attrs:{id:"opacity",type:"range",min:"0",max:"1",step:"0.1",value:"0.2"},on:{change:t.update_layers}}),n("span",{attrs:{id:"opacity-value"}})]),n("div",[n("label",{attrs:{for:"color"}},[t._v("Color Inversion")]),n("input",{attrs:{id:"color",type:"checkbox",name:"color"},on:{change:t.update_layers}}),n("span",{attrs:{id:"color-value"}})])])],1)},m=[],b=n("5530"),g=(n("d3b7"),n("159b"),n("a9e3"),n("d81d"),n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deckgl-container",attrs:{width:t.width,height:t.height}},[t._t("background"),t._t("default"),n("canvas",{ref:"canvas",attrs:{id:"deck-canvas"},on:{contextmenu:t.handleContextMenu}}),t._t("foreground")],2)}),_=[],y=n("9b26"),w=n("5a2b"),k={name:"VueDeckgl",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},layers:{type:Array,default:function(){return[]}},viewState:{type:Object,default:function(){return{latitude:40.6971494,longitude:-74.2598655,zoom:12,pitch:0}},required:!0},cursor:{type:String,default:"default"},controller:{type:[Boolean,Object],default:!0},effects:{type:Array,default:function(){return[]}},disableContextMenu:{type:Boolean,default:!1}},methods:{initializeDeck:function(t,e){var n=this;return new y["a"]({canvas:this.$refs.canvas,width:this.width,height:this.height,style:{"!position":"relative"},viewState:t,controller:this.controller,onViewStateChange:function(t){var e=t.viewState;n.deck.setProps({viewState:e}),n.$emit("view-state-change",e)},onClick:function(t,e){n.$emit("click",{info:t,event:e})},onDrag:function(t,e){n.$emit("drag",{info:t,event:e})},onDragStart:function(t,e){n.$emit("onDragStart",{info:t,event:e})},onDragEnd:function(t,e){n.$emit("onDragEnd",{info:t,event:e})},getCursor:function(t){var e=t.isDragging;return e?"grabbing":n.cursor||"grab"},layers:e,effects:this.effects})},handleContextMenu:function(t){this.disableContextMenu&&t.preventDefault()}},watch:{layers:function(t){this.deck.setProps({layers:t})},viewState:function(t){this.deck.setProps({viewState:Object(b["a"])(Object(b["a"])({},t),{},{transitionInterpolator:new w["a"]})})},effects:function(t){this.deck.setProps({effects:t})}},created:function(){this.deck=null},mounted:function(){this.deck=this.initializeDeck(this.viewState,this.layers),console.log(this.deck)},destroyed:function(){this.deck.finalize()}},x=k,C=(n("85d6"),Object(s["a"])(x,g,_,!1,null,"7ccc4b40",null)),O=C.exports,S=n("fbbb"),P=n("9043"),j=n("3614"),N=n("5698"),M=n("f75e"),E={name:"Map",components:{VueDeckgl:O},data:function(){return{POIdata:{},ICON_MAPPING:{marker:{x:0,y:0,width:128,height:128,mask:!0}},OPTIONS:["coverage","opacity"],COLOR_RANGE:[[209,55,78]],data:null,viewState:{longitude:-84.388,latitude:33.749,zoom:11,minZoom:3,maxZoom:17,pitch:20},layers:[]}},methods:{handleClick:function(){},handleViewStateChange:function(t){this.viewState=Object(b["a"])({},t)},update_layers:function(){var t={};if(this.OPTIONS.forEach((function(e){var n=document.getElementById(e).value;document.getElementById(e+"-value").innerHTML=n,t[e]=Number(n)})),null===this.data)return[];var e=this.data,n=new j["a"](Object(b["a"])({id:"heatmap",data:e,elevationRange:[0,0],opacity:.2,wireframe:!1,filled:!0,extruded:!1,pickable:!0,getHexagon:function(t){return t.hex},getFillColor:function(t){return 1==document.getElementById("color").checked?[0,255*(1-t.totpop/5e3),255]:[255,255*(1-t.totpop/5e3),0]},updateTriggers:{getFillColor:document.getElementById("color").checked}},t)),a=new S["a"]({id:"scatter",data:this.POIdata,opacity:.8,filled:!0,radiusMinPixels:2,radiusMaxPixels:3,getPosition:function(t){return[t[0],t[1]]},getFillColor:function(t){return[0,128,255]},pickable:!0}),i=new P["a"]({id:"icon-layer",data:this.POIdata,pickable:!0,iconAtlas:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/icon-atlas.png",iconMapping:this.ICON_MAPPING,getIcon:function(t){return"marker"},sizeScale:9,getPosition:function(t){return[t[0],t[1]]},getSize:function(t){return 1},getColor:function(t){return[0,128,255]}});this.layers=[n,a,i]},load_dummy_data:function(){var t=this;N["a"]("./dummy_data.csv").then((function(e){t.POIdata=e.map((function(t){return[Number(t.stop_lon),Number(t.stop_lat)]}))}))}},mounted:function(){var t=this;this.load_dummy_data();var e=new Promise((function(e,n){N["a"]("lat_lon_to_census_data.csv").then((function(n){t.data=n.map((function(t){return{hex:M["c"](Number(t.lat),Number(t.lon),8),lon:Number(t.lon),lat:Number(t.lat),totpop:Number(t.pop_total),white:Number(t.pop_white),black:Number(t.pop_black),hisp:Number(t.pop_indian_alaskan),asian:Number(t.pop_asian)}})),t.data=t.data.reduce((function(t,e){return t[e.hex]?(t[e.hex].totpop+=e.totpop,t[e.hex].white+=e.white,t[e.hex].black+=e.black,t[e.hex].hisp+=e.hisp,t[e.hex].asian+=e.asian,t[e.hex].count+=1,t):(t[e.hex]=Object(b["a"])(Object(b["a"])({},e),{},{count:1}),t)}),{});var a=t;t.data=Object.keys(t.data).map((function(t){var e=a.data[t];return{hex:e.hex,totpop:e.totpop,count:e.count,white:e.white,black:e.black,hisp:e.hisp,asian:e.asian}})),e(t.data)}))}));e.then((function(e){console.log(e),t.update_layers()}))}},I=E,$=(n("9feb"),Object(s["a"])(I,v,m,!1,null,"2d774a31",null)),D=$.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"globa_stat"},[n("h1",[t._v(" This is the Global Stat ")]),n("div",{staticClass:"block"},[n("el-carousel",{attrs:{trigger:"click",height:"35vh",autoplay:!1}},t._l(t.items,(function(e){return n("el-carousel-item",{key:e},[n("h2",{staticClass:"title"},[t._v(t._s(e))])])})),1)],1)])},A=[],z={name:"GlobalStat",data:function(){return{items:["Housing","Income","Labor","Poverty","Unemployment","Violence"]}}},B=z,G=(n("cf55"),Object(s["a"])(B,T,A,!1,null,"38f58c53",null)),V=G.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"city_select"},[n("el-select",t._b({attrs:{placeholder:"Select City"}},"el-select",t.value,!1),t._l(t.citys,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)},F=[],H={name:"Select",data:function(){return{citys:[{value:"atl",label:"Atlanta"}]}}},R=H,J=(n("40f1"),Object(s["a"])(R,L,F,!1,null,"326b9a56",null)),Z=J.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},U=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control_panel"},[n("h1",[t._v(" This is the ControlPanel ")])])}],K={name:"ControlPanel"},Q=K,W=(n("4ddd"),Object(s["a"])(Q,q,U,!1,null,"5268142a",null)),X=W.exports,Y={name:"Main",components:{Map:D,GlobalStat:V,Select:Z,ControlPanel:X}},tt=Y,et=(n("2fe7"),Object(s["a"])(tt,p,h,!1,null,"2fbe78aa",null)),nt=et.exports,at={name:"App",components:{Compare:f,Main:nt},data:function(){return{currentPage:"Main"}},computed:{currentTabComponent:function(){return"main"===this.currentPage.toLowerCase()?nt:f}}},it=at,rt=(n("7c55"),Object(s["a"])(it,i,r,!1,null,null,null)),ot=rt.exports,ct=n("2f62");a["default"].use(ct["a"]);var lt=new ct["a"].Store({state:{current_city:"",current_config:{},compare_tuple:[],current_vaccine_centers:[]},mutations:{},actions:{},modules:{}}),ut=n("5c96"),st=n.n(ut);n("0fae");a["default"].config.productionTip=!1,a["default"].use(st.a),new a["default"]({store:lt,render:function(t){return t(ot)}}).$mount("#app")},"7c55":function(t,e,n){"use strict";n("2395")},"85d6":function(t,e,n){"use strict";n("5656")},"9feb":function(t,e,n){"use strict";n("aa9f")},aa9f:function(t,e,n){},af8d:function(t,e,n){},cf55:function(t,e,n){"use strict";n("17ab")},d14f:function(t,e,n){},fa35:function(t,e,n){}});
//# sourceMappingURL=app.ff61d201.js.map