(function(t){function e(e){for(var a,r,c=e[0],l=e[1],u=e[2],d=0,p=[];d<c.length;d++)r=c[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&p.push(i[r][0]),i[r]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);s&&s(e);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var l=n[c];0!==i[l]&&(a=!1)}a&&(o.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},o=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],l=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var s=l;o.push([3,"chunk-vendors"]),n()})({0:function(t,e){},1:function(t,e){},"17ab":function(t,e,n){},1970:function(t,e,n){"use strict";n("69a5")},2:function(t,e){},2395:function(t,e,n){},"294e":function(t,e,n){"use strict";n("9d23")},3:function(t,e,n){t.exports=n("56d7")},4:function(t,e){},"40f1":function(t,e,n){"use strict";n("af8d")},"455a":function(t,e,n){},"4ddd":function(t,e,n){"use strict";n("d14f")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("keep-alive",[n(t.currentTabComponent,{tag:"component"})],1)],1)},o=[],r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div")},c=[],l={},u=l,s=n("2877"),d=Object(s["a"])(u,r,c,!1,null,null,null),p=d.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"nav_bar"}),n("div",{staticClass:"main_container"},[n("div",{staticClass:"select_map_container"},[n("Select"),n("Map")],1),n("div",{staticClass:"stat_control_container"},[n("GlobalStat"),n("ControlPanel")],1)])])},h=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"map",attrs:{id:"hex-map"}},[n("VueDeckgl",{staticClass:"deck-map",attrs:{layers:t.layers,viewState:t.viewState,width:"70vw",height:"80vh"},on:{click:t.handleClick,"view-state-change":t.handleViewStateChange}}),n("div",{ref:"map",attrs:{id:"map"}}),n("div",{staticClass:"control-panel",attrs:{id:"control-panel"}},[n("div",[n("label",[t._v("Coverage")]),n("input",{attrs:{id:"coverage",type:"range",min:"0",max:"1",step:"0.1",value:"0.9"},on:{change:t.update_layers}}),n("span",{attrs:{id:"coverage-value"}})]),n("div",[n("label",[t._v("Opacity")]),n("input",{attrs:{id:"opacity",type:"range",min:"0",max:"1",step:"0.1",value:"0.2"},on:{change:t.update_layers}}),n("span",{attrs:{id:"opacity-value"}})]),n("div",[n("label",{attrs:{for:"color"}},[t._v("Color Inversion")]),n("input",{attrs:{id:"color",type:"checkbox",name:"color"},on:{change:t.update_layers}}),n("span",{attrs:{id:"color-value"}})])])],1)},v=[],b=n("5530"),g=(n("d81d"),n("d3b7"),n("159b"),n("a9e3"),n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"deckgl-container",attrs:{width:t.width,height:t.height}},[t._t("default"),n("canvas",{ref:"canvas",attrs:{id:"deck-canvas"},on:{contextmenu:t.handleContextMenu}}),t._t("foreground")],2)}),y=[],_=(n("99af"),n("b680"),n("9b26")),w=n("5a2b"),k={name:"VueDeckgl",props:{width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},layers:{type:Array,default:function(){return[]}},viewState:{type:Object,default:function(){return{latitude:40.6971494,longitude:-74.2598655,zoom:12,pitch:0}},required:!0},cursor:{type:String,default:"default"},controller:{type:[Boolean,Object],default:!0},effects:{type:Array,default:function(){return[]}},disableContextMenu:{type:Boolean,default:!1}},data:function(){return{}},methods:{initializeDeck:function(t,e){var n=this;return new _["a"]({canvas:this.$refs.canvas,width:this.width,height:this.height,style:{"!position":"relative"},viewState:t,controller:this.controller,onViewStateChange:function(t){var e=t.viewState;n.deck.setProps({viewState:e}),n.$emit("view-state-change",e)},onClick:function(t,e){n.$emit("click",{info:t,event:e})},onDrag:function(t,e){n.$emit("drag",{info:t,event:e})},onDragStart:function(t,e){n.$emit("onDragStart",{info:t,event:e})},onDragEnd:function(t,e){n.$emit("onDragEnd",{info:t,event:e})},getCursor:function(t){var e=t.isDragging;return e?"grabbing":n.cursor||"grab"},layers:e,effects:this.effects,getTooltip:function(t){var e=t.object;return e&&"Total Population: ".concat(e.totpop," \n White: ").concat((100*e.white/e.totpop).toFixed(2),"% \n Black: ").concat((100*e.black/e.totpop).toFixed(2),"% \n Native American: ").concat((100*e.hisp/e.totpop).toFixed(2),"% \n Asian: ").concat((100*e.asian/e.totpop).toFixed(2),"% \n Num of Census Blocks: ").concat(e.count)}})},handleContextMenu:function(t){this.disableContextMenu&&t.preventDefault()}},watch:{layers:function(t){this.deck.setProps({layers:t})},viewState:function(t){this.deck.setProps({viewState:Object(b["a"])(Object(b["a"])({},t),{},{transitionInterpolator:new w["a"]})})},effects:function(t){this.deck.setProps({effects:t})}},created:function(){this.deck=null},mounted:function(){this.deck=this.initializeDeck(this.viewState,this.layers),console.log(this.viewState),console.log(this.deck)},destroyed:function(){this.deck.finalize()}},x=k,C=(n("7d42"),Object(s["a"])(x,g,y,!1,null,"b5b736b2",null)),O=C.exports,S=n("fbbb"),P=n("9043"),j=n("3614"),N=n("5698"),M=n("f75e"),I=n("e192"),E=n.n(I),$="mapbox://styles/mapbox/streets-v11",T={name:"Map",components:{VueDeckgl:O},data:function(){return{POIdata:{},ICON_MAPPING:{marker:{x:0,y:0,width:128,height:128,mask:!0}},OPTIONS:["coverage","opacity"],COLOR_RANGE:[[209,55,78]],data:null,viewState:{longitude:-84.388,latitude:33.749,zoom:11,minZoom:3,maxZoom:17,pitch:20},layers:[],map:null}},methods:{handleClick:function(){},handleViewStateChange:function(t){this.viewState=Object(b["a"])({},t),null!==this.map&&this.map.jumpTo({center:[t.longitude,t.latitude],zoom:t.zoom,bearing:t.bearing,pitch:t.pitch})},update_layers:function(){var t={};if(this.OPTIONS.forEach((function(e){var n=document.getElementById(e).value;document.getElementById(e+"-value").innerHTML=n,t[e]=Number(n)})),null===this.data)return[];var e=this.data,n=new j["a"](Object(b["a"])({id:"heatmap",data:e,elevationRange:[0,0],opacity:.2,wireframe:!1,filled:!0,extruded:!1,pickable:!0,getHexagon:function(t){return t.hex},getFillColor:function(t){return 1==document.getElementById("color").checked?[0,255*(1-t.totpop/5e3),255]:[255,255*(1-t.totpop/5e3),0]},updateTriggers:{getFillColor:document.getElementById("color").checked}},t)),a=new S["a"]({id:"scatter",data:this.POIdata,opacity:.8,filled:!0,radiusMinPixels:2,radiusMaxPixels:3,getPosition:function(t){return[t[0],t[1]]},getFillColor:function(t){return[0,128,255]},pickable:!0}),i=new P["a"]({id:"icon-layer",data:this.POIdata,pickable:!0,iconAtlas:"https://raw.githubusercontent.com/visgl/deck.gl-data/master/website/icon-atlas.png",iconMapping:this.ICON_MAPPING,getIcon:function(t){return"marker"},sizeScale:9,getPosition:function(t){return[t[0],t[1]]},getSize:function(t){return 1},getColor:function(t){return[0,128,255]}});this.layers=[n,a,i]},load_dummy_data:function(){var t=this;N["a"]("./dummy_data.csv").then((function(e){t.POIdata=e.map((function(t){return[Number(t.stop_lon),Number(t.stop_lat)]}))}))}},mounted:function(){var t=this;this.load_dummy_data(),this.map=new E.a.Map({accessToken:"pk.eyJ1Ijoic2VuZGF5byIsImEiOiJjams4MjdqOXAyZ2VrM3BydDRzeTR4cjBsIn0.Hk0FF4BvDNJZeDAZZiPlcg",container:this.$refs.map,style:$,interactive:!0,center:[this.viewState.longitude,this.viewState.latitude],zoom:this.viewState.zoom,bearing:0,pitch:this.viewState.pitch});var e=new Promise((function(e,n){N["a"]("lat_lon_to_census_data.csv").then((function(n){t.data=n.map((function(t){return{hex:M["c"](Number(t.lat),Number(t.lon),8),lon:Number(t.lon),lat:Number(t.lat),totpop:Number(t.pop_total),white:Number(t.pop_white),black:Number(t.pop_black),hisp:Number(t.pop_indian_alaskan),asian:Number(t.pop_asian)}})),t.data=t.data.reduce((function(t,e){return t[e.hex]?(t[e.hex].totpop+=e.totpop,t[e.hex].white+=e.white,t[e.hex].black+=e.black,t[e.hex].hisp+=e.hisp,t[e.hex].asian+=e.asian,t[e.hex].count+=1,t):(t[e.hex]=Object(b["a"])(Object(b["a"])({},e),{},{count:1}),t)}),{});var a=t;t.data=Object.keys(t.data).map((function(t){var e=a.data[t];return{hex:e.hex,totpop:e.totpop,count:e.count,white:e.white,black:e.black,hisp:e.hisp,asian:e.asian}})),e(t.data)}))}));e.then((function(e){console.log(e),t.update_layers()}))}},D=T,z=(n("294e"),Object(s["a"])(D,m,v,!1,null,"e2f0cd5c",null)),A=z.exports,B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"globa_stat"},[n("h1",[t._v(" This is the Global Stat ")]),n("div",{staticClass:"block"},[n("el-carousel",{attrs:{trigger:"click",height:"35vh",autoplay:!1}},t._l(t.items,(function(e){return n("el-carousel-item",{key:e},[n("h2",{staticClass:"title"},[t._v(t._s(e))])])})),1)],1)])},F=[],V={name:"GlobalStat",data:function(){return{items:["Housing","Income","Labor","Poverty","Unemployment","Violence"]}}},G=V,Z=(n("cf55"),Object(s["a"])(G,B,F,!1,null,"38f58c53",null)),J=Z.exports,R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"city_select"},[n("el-select",t._b({attrs:{placeholder:"Select City"}},"el-select",t.value,!1),t._l(t.citys,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}},[t._v(" "+t._s(e.label)+" ")])})),1)],1)},H=[],L={name:"Select",data:function(){return{citys:[{value:"atl",label:"Atlanta"}]}}},q=L,U=(n("40f1"),Object(s["a"])(q,R,H,!1,null,"326b9a56",null)),W=U.exports,X=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},K=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control_panel"},[n("h1",[t._v(" This is the ControlPanel ")])])}],Q={name:"ControlPanel"},Y=Q,tt=(n("4ddd"),Object(s["a"])(Y,X,K,!1,null,"5268142a",null)),et=tt.exports,nt={name:"Main",components:{Map:A,GlobalStat:J,Select:W,ControlPanel:et}},at=nt,it=(n("1970"),Object(s["a"])(at,f,h,!1,null,"aff8efa2",null)),ot=it.exports,rt={name:"App",components:{Compare:p,Main:ot},data:function(){return{currentPage:"Main"}},computed:{currentTabComponent:function(){return"main"===this.currentPage.toLowerCase()?ot:p}}},ct=rt,lt=(n("7c55"),Object(s["a"])(ct,i,o,!1,null,null,null)),ut=lt.exports,st=n("2f62");a["default"].use(st["a"]);var dt=new st["a"].Store({state:{current_city:"",current_config:{},compare_tuple:[],current_vaccine_centers:[]},mutations:{},actions:{},modules:{}}),pt=n("5c96"),ft=n.n(pt);n("0fae");a["default"].config.productionTip=!1,a["default"].use(ft.a),new a["default"]({store:dt,render:function(t){return t(ut)}}).$mount("#app")},"69a5":function(t,e,n){},"7c55":function(t,e,n){"use strict";n("2395")},"7d42":function(t,e,n){"use strict";n("455a")},"9d23":function(t,e,n){},af8d:function(t,e,n){},cf55:function(t,e,n){"use strict";n("17ab")},d14f:function(t,e,n){}});
//# sourceMappingURL=app.0365b132.js.map